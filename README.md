# Advanced-Scripting-Techniques-in-Design-and-Synthesis

# Lecture 1: Introduction to TCL task 
</br>
The task is to take a User Interface to take an Excel file as an input and provide the output as a datasheet. </br>

![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/d854fc7c-2961-4f39-bad0-c55c524c2a40)


## Checking the contents of the CSV file

![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/6d15afa1-8e5c-447e-bc84-6f618b78ffa4)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/6d63c62b-d393-4772-a1b7-9e1bada86e74)</br>

# Lecture 2: Introduction to sub-task
</br>

![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/ff578704-857b-4b6e-8bb4-c9051f6e2988)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/702b5843-2fff-439f-93af-632cd6bc62c9)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/8bb1a14c-763f-44e0-895a-a83feee8e2cf)</br>

</br>
 
## YOSYS tool will help to synthesize the design.
</br>

![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/b5f6337b-a6dc-4a9c-8f2b-d934c22583a4)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/021a98b3-4a88-48a2-8b18-dd070204b9a7)</br>


## Convert csv file into an SDC file. (Creating input and output ports)
</br>

![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/7fc06c42-7661-46d9-b5ac-6fcb3a5156b4)</br>

## OpenTimer is used to create the datasheet or performance chart.
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/3a2f715c-6975-41ad-965d-cdf68084a842)</br>
</br>

# Section 2: Sub-Task One: VSDSYNTH Toolbox usage scenarios 
## Lecture 3: Scenario 1 – The user doesn't provide an input CSV file 
</br>

![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/48ae8ba8-b681-49fd-a525-e2f5082b0ed7)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/b89992a9-2ee3-4848-a353-94bd77a51817)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/88ce2f6b-112e-4e23-8a6a-b8e5a79a6a3d)</br>
 
## CSV file not provided.
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/71ffaba3-4226-4f65-ba72-893b7b19fb92)</br>

## Lecture 4: Scenarios 2 & 3 - User providing incorrect CSV or typing "-help." 
</br>

![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/239652c4-f678-4085-8e8f-1a651e826517)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/0c53401c-3707-4702-84ea-498bfdd269a6)</br>

## Checking incorrect CSV file
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/b625c8b1-3e01-46cc-8d32-4bd87c9753c3)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/5d469363-95a3-4141-97fd-745757183edc)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/0181ed72-6d25-46bd-97c9-6ddcd9c4c064)</br>
</br>
## Creating “-help” for user guidance
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/7e226a4d-a6bc-4496-a39e-f5d308a5ecb9)</br>

# Day 2: Variable Creation and Processing Constraints from CSV</br>
## Lecture 5: Various tasks involved in format conversion.</br>
</br>

![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/ab0f80f5-48a5-4672-86b1-f9e7bd4c52f7)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/7be6d2d6-b2d3-48f4-a587-3bce59ed6335)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/3c794ea7-fa11-49b4-a0a1-9f5c6b0ff999)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/fd9a708e-39f8-4da0-b855-76a171e65078)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/d56ab1c1-f884-43d7-929a-8100e22f28b7)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/6a1cbad2-07e9-4dc4-b7c8-fcf13c8120dc)</br>
</br>

## Lecture 6: Auto-Create variables using matrix and arrays.</br>
</br>

![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/2da37485-8819-491c-b894-1ffbf4f463bc)</br>

Set filename [lindex $argv 0]</br>
</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/797f973b-a570-4ba0-a6eb-cf27ddc3f620)</br>


## Lecture 7: Initialize variables for auto-creation variables task.</br>
</br>

![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/d9cfc731-5019-4235-acb9-b1e6487d8d81)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/4723d7d3-229d-4846-bd38-1d3cfd76f3bf)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/b3619ad5-04aa-49ad-933a-84f12f4ecb9f)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/90bc752f-094b-4ec1-b721-3cb85ef30212)</br>

MAP FILE TO MATRIX</br>
</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/9f12b643-186b-49d7-818a-dec86e6fe251)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/661e2f0c-d127-4112-ab39-a37c3fe1b417)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/82de4e3e-a97b-4db6-8fa6-6436b44e8927)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/1c6b87b5-1bc3-4bdf-8499-3837cd99fb2c)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/5c5b3fbe-2696-4a57-a6e2-64d3c8484e70)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/f241b6b8-4ac2-4180-afe0-03f4d494bcc3)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/b8632977-68b6-4950-911a-356cf41e11bb)</br>

## Lecture 8: Auto creation of the first variable – DesignName</br>
</br>

![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/b9cf94cb-4e20-41ab-a6da-572cbdba053f)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/fcef21ed-71e2-44d9-8c26-112c47ac0119)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/c8a3f060-21de-4393-82ff-99016a12d48c)</br>
$DesignName = openMSP430</br>
</br>

## Lecture 9: Auto creation of variables complete.</br>
</br>

![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/15cec14a-2952-4c74-a968-89b3e09eb959)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/6faeb26e-777f-4716-9371-ba6fb45b3506)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/9aeee527-b178-4864-b203-9db8896bc11e)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/873a6818-2917-46d9-b56a-52cd2aa81d66)</br>
 
Mapping the matrix to the matrix. Then mapping matrix variables to a CSV file.</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/a0e7f868-ad1e-4db7-b4be-1221bd5a1720)</br>

## Lecture 10: Variable Creation DEMO using TCL.</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/964de725-3e97-4014-a19a-85ef6eef455c)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/e0fdc80e-2b50-4cd1-973a-4d6c02af502d)</br>
 
Checking the auto-creation of the variables</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/c6170bd1-eb83-4684-bc41-9b7cd80f083b)</br>

# Section 4: Sub-Task Two - From CSV to format[1] and SDC - Processing constraints, CSV</br>
## Lecture 12: Checking the existence of files and folders mentioned in design_details.csv</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/0d07da72-16f7-4f35-a1a3-bf7db7bf75b9)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/cc94e2d3-d3df-44eb-9fc8-d144eb55824c)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/98bb7d89-3d5b-4530-9d92-46eb4fb0c049)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/2d8d07bd-d90a-4099-ba57-b3a4ed2f355f)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/2f44c28d-ff05-4246-b14c-4ff161dec1d3)</br> 

## Lecture 13: Convert the constraints.csv file to a matrix object.</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/0f7b3d9c-89f7-4652-85a9-11936422ed22)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/6e7201ca-0b10-4819-93ef-5d749d0d9593)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/a8b1b702-ada1-4920-8d9a-8f49e2f67910)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/6ec54759-7d0a-4139-9f04-a6cc237b8d71)</br>

## Lecture 14: Compute row numbers using complex matrix processing.</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/297d903e-bae5-401e-ae08-c39035de85dc)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/2fb37b07-b396-4cfe-88f9-16b7e25a5f78)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/07778601-7d81-4b2b-93c8-bfe40b0f312a)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/8a01936b-48fb-4e44-bb74-c100a3969f5f)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/f42dc3ce-cd0e-4664-91fb-b23411a919ca)</br>

## Lecture 15: DEMO for computing row numbers</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/036a2a41-3d91-47ab-b6df-c9a38f7b6a66)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/b55077a9-17b9-40a1-a54d-b5fe253df9c6)</br>
![image](https://github.com/srsapireddy/Advanced-TCL-Scripting/assets/32967087/881e68a8-bc78-4c04-a078-5b2117c181d8)</br>

 
 


## Day 3: Processing Clock and Input Constraints</br>


## Section 5: Sub-Task Two - From CSV to format[1] and SDC - Processing clock constraints</br>

Lecture 16: Algorithm to identify the column number for clock latency constraints</br>
Lecture 17: Start writing clock latency constraints in the SDC file</br>
Lecture 18: Complete clock latency constraints and clock slew constraints in the SDC file</br>
Lecture 19: Code to create clock constraints with clock period and duty cycle</br>
Lecture 20: DEMO for creating complete clock constraints</br>

Section 6: Sub-Task Two - From CSV to format[1] and SDC - Processing input constraints</br>

Lecture 21: Introduction to the task of differentiating between bits and a bus</br>
Lecture 22: Algorithm to categorize input ports as bits and bussed</br>
Lecture 23: File access and pattern creation steps</br>
Lecture 24: Regular expression and regular substitute to get fixed space strings</br>
Lecture 25: Demo for grepping input ports from all verilogs and reformatting for fixed space</br>
Lecture 26: Read, split, uniquify, sort, and join input ports to remove duplication</br>
Lecture 27: Evaluate the length of the string and Demo of bits/bussed differentiation script</br>
Lecture 28: Demo for input constraints generation and bits/bussed differentiation</br></br>

## Day 4: Complete Scripting and Yosys Synthesis Introduction</br>

Section 7: Full script for download and Conclusion</br>

Lecture 29: Constraints generation logic for the output port and Conclusion!!</br>
Section 8: Introduction to Yosys synthesis tool usage</br>

Lecture 2: Example of a memory module RTL description</br>
Lecture 3: Memory functionality and Synthesis using Yosys</br>
Lecture 4: Components and Gate level netlist description of Synthesized memory</br>
Lecture 5: Memory Write operation discussed in detail</br>
Lecture 6: Memory Read operation and TCL scripting agenda</br>
Section 9: Hierarchy check and error handling script creation for Yosys</br>

Lecture 7: Script to do a hierarchy check</br>
Lecture 8: Demo for hierarchy check script generation</br>
Lecture 9: Demo for error handling concept in hierarchy check</br>
Lecture 10: Error handling script for hierarchy check</br>
Lecture 11: Demo for error handling script</br></br>

## Day 5: Advanced Scripting Techniques and Quality of Results Generation</br>

Section 10: Synthesis main file scripting and output file editing</br>

Lecture 12: Synthesis script creation and demo</br>
Lecture 13: Need and script to edit Yosys output netlist</br>
Lecture 14: Demo to edit output netlist and Introduction to 'procs'</br>
Section 11: World of 'Procs'</br>

Lecture 15: Redirect stdout proc and demo of TCL array command</br>
Lecture 16: 'set_multi_cpu_usage' proc</br>
Lecture 17: Demo for 'set_multi_cpu_usage' proc</br>
Lecture 18: read_lib and read_verilog proc demo</br>
Section 12: read_sdc proc - interpret clock generation constraints</br>

Lecture 19: Read SDC file and replace square brackets by 'null'</br>
Lecture 20: Evaluate clock period and clock port name from processed SDC</br>
Lecture 21: Evaluate duty cycle and create clock in opentimer format</br>
Lecture 22: Demo to convert constraints from SDC format to opentimer format</br>
Section 13: read_sdc proc - interpret IO delays and transition constraints</br>

Lecture 23: Grep clock latency and port name from SDC file</br>
Lecture 24: Convert set_clock_latency SDC to opentimer format</br>
Lecture 25: Demo to convert set_clock_latency in SDC to arrival_time in opentimer</br>
Lecture 26: Script and demo convert transition and input delay to opentimer format</br>
Lecture 27: Script and demo to convert output SDC constraints to opentimer format</br>
Section 14: Process bussed ports and configuration file creation</br>

Lecture 28: Script to expand bussed input ports for arrival time constraints</br>
Lecture 29: Script and demo to convert all bussed constraints to bit-blasted</br>
Lecture 30: Opentimer configuration file creation</br>
Section 15: Quality of results (QOR) generation algorithm</br>

Lecture 31: Script to obtain STA runtime</br>
Lecture 32: Script to obtain WNS and FEP for reg2out violations</br>
Lecture 33: Script and demo for instance count, WNS, and FEP for setup and hold</br>
Lecture 34: Script and demo for report formatting</br>
Section 16: Conclusion</br>

Lecture 35: Conclusion and acknowledgments</br>
